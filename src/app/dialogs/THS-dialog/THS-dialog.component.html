<h1 mat-dialog-title>{{ 'ths.Title' | translate }}</h1>

<div *ngIf="!solutionFound && thsIteration.nonce === 0">
  <p>
    {{ 'ths.Introduction' | translate }}
  </p>

</div>
<div *ngIf="!solutionFound && thsIteration.nonce !== 0">
  <div>
    <mat-progress-spinner style="margin: 19px auto;" diameter="50" mode="indeterminate"></mat-progress-spinner>
  </div>
  <div>
    <table style="height:300px;overflow:auto;margin: 0px 30px 10px 30px;">
      <tr>
        <td style="font-weight: bold;">{{ 'ths.TargetTimespan' | translate }}</td>
        <td>{{targetTotalDuration | formatETATime: false}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.TargetNonce' | translate }}</td>
        <td>{{targetNonce}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.EstimatedIterationTime' | translate }}</td>
        <td>{{estimatedIterationTime | formatETATime: false}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.EstimatedRemainingTime' | translate }}</td>
        <td>{{estimatedRemainingTime | formatETATime: false}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.BenchmarkSpeedRatio' | translate }}</td>
        <td>{{benchmarkSpeedRatio}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.CurrentRoundValue' | translate }}</td>
        <td>{{currentRound}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.CurrentNonceValue' | translate }}</td>
        <td>{{currentNonce}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.CurrentNonceTotal' | translate }}</td>
        <td>{{totalNonce}}</td>
      </tr>
      <tr>
        <td style="font-weight: bold;">{{ 'ths.CurrentElapsedTime' | translate }}</td>
        <td>{{thsIteration.elapsed | formatETATime}}</td>
      </tr>
    </table>
    <hr />
  </div>
  <div>
    <div style="font-weight: bold;">{{ 'ths.SolutionsFound' | translate }}</div>
    <div style="padding-top: 15px;padding-bottom: 15px;">
      <table mat-table [dataSource]="solutionsDatasource" class="mat-elevation-z8 table-solutions">
        <ng-container matColumnDef="nonce">
          <th mat-header-cell *matHeaderCellDef> {{ 'ths.Nonce' | translate }} </th>
          <td mat-cell *matCellDef="let entry"> {{entry.nonce}} </td>
        </ng-container>
        <ng-container matColumnDef="solution">
          <th mat-header-cell *matHeaderCellDef> {{ 'ths.Solution' | translate }} </th>
          <td mat-cell *matCellDef="let entry"> {{entry.solution}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </div>
</div>
<div *ngIf="solutionFound">

  <p>
    {{ 'ths.SolutionsFound' | translate }}
  </p>

</div>

<div class="row">
  <button mat-button color="warn" (click)="cancel()"><i class="fas fa-ban"></i>
    {{ 'app.Close' | translate }}</button>
</div>